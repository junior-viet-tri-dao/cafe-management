<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Trang c√° nh√¢n</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .deleted {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div layout:fragment="content">
    <h2>Danh s√°ch thi·∫øt b·ªã</h2>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>T√™n thi·∫øt b·ªã</th>
            <th>S·ªë l∆∞·ª£ng</th>
            <th>Ghi ch√∫</th>
            <th>Ng√†y mua</th>
            <th>Gi√° mua</th>
            <th>Tr·∫°ng th√°i</th>
            <th>Thao t√°c</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="equipment : ${equiments}">
            <td th:text="${equipment.id}">1</td>
            <td th:text="${equipment.equipmentName}">M√°y in</td>
            <td th:text="${equipment.quantity}">5</td>
            <td th:text="${equipment.notes}">Ghi ch√∫</td>
            <td th:text="${#temporals.format(equipment.purchaseDate, 'dd/MM/yyyy')}">01/01/2025</td>
            <td th:text="${#numbers.formatDecimal(equipment.purchasePrice, 0, 'COMMA', 2, 'POINT')}">10.000,00</td>
            <td th:text="${equipment.isDeleted ? 'ƒê√£ x√≥a' : 'ƒêang s·ª≠ d·ª•ng'}"
                th:classappend="${equipment.isDeleted} ? 'deleted' : ''">
                ƒêang s·ª≠ d·ª•ng
            </td>
            <td>
                <a th:href="@{/equipment/update/{id}(id=${equipment.id})}"
                   class="bg-yellow-400 hover:bg-yellow-500 text-white text-xs font-semibold px-3 py-1 rounded shadow">
                    ‚úèÔ∏è S·ª≠a
                </a>

                <form th:action="@{/equipment/delete/{id}(id=${equipment.id})}" method="post"
                      th:id="'deleteForm-' + ${equipment.id}">
                    <button type="button"
                            th:attr="data-id=${equipment.id}"
                            class="btn-delete bg-red-500 hover:bg-red-600 text-white text-xs font-semibold px-3 py-1 rounded shadow">
                        üóëÔ∏è X√≥a
                    </button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
    <button><a th:href="@{/equipment/create}"
               class="bg-yellow-400 hover:bg-yellow-500 text-white text-xs font-semibold px-3 py-1 rounded shadow">
        Th√™m thi·∫øt b·ªã
    </a></button>
</div>
</body>
</html>
