<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">

<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω b√†n</title>
</head>

<body>
    <div layout:fragment="content">
        <div class="bg-white shadow-xl rounded-xl p-6 mt-6 max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-[#4e342e] mb-6">üçΩÔ∏è Danh s√°ch b√†n</h2>
            <div class="mb-4 text-right">
                <a href="/table/create" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md">‚ûï Th√™m
                    b√†n</a>
            </div>
            <table class="min-w-full table-auto border border-gray-300 rounded-lg">
                <thead class="bg-blue-100 text-gray-800 text-sm font-bold uppercase">
                    <tr>
                        <th class="px-4 py-2 text-center">STT</th>
                        <th class="px-4 py-2 text-center">T√™n b√†n</th>
                        <th class="px-4 py-2 text-center">Tr·∫°ng th√°i</th>
                        <th class="px-4 py-2 text-center">Thao t√°c</th>
                    </tr>
                </thead>
                <tbody class="text-sm text-gray-700 divide-y divide-gray-200">
                    <tr th:each="table,iter : ${tables}">
                        <td class="px-4 py-2 text-center" th:text="${iter.index + 1}">1</td>
                        <td class="px-4 py-2 text-center" th:text="${table.tableName}">A1</td>
                        <td class="px-4 py-2 text-center">
                            <span th:switch="${table.status}">
                                <span th:case="'AVAILABLE'" class="text-green-600 font-semibold">Tr·ªëng</span>
                                <span th:case="'OCCUPIED'" class="text-yellow-600 font-semibold">ƒêang s·ª≠ d·ª•ng</span>
                                <span th:case="'RESERVED'" class="text-blue-600 font-semibold">ƒê√£ ƒë·∫∑t tr∆∞·ªõc</span>
                                <span th:case="'OUT_OF_SERVICE'" class="text-red-600 font-semibold">Ng·ª´ng ph·ª•c v·ª•</span>
                                <span th:case="*" class="text-gray-600">Kh√¥ng r√µ</span>
                            </span>
                        </td>
                        <td class="px-4 py-2 text-center">
                            <a th:href="@{'/table/update/' + ${table.id}}"
                                class="text-blue-600 hover:underline mr-2">S·ª≠a</a>
                            <a th:href="@{'/table/delete/' + ${table.id}}" class="text-red-600 hover:underline mr-2"
                                onclick="return confirm('X√°c nh·∫≠n x√≥a b√†n?')">X√≥a</a>
                            <form th:action="@{'/table/status/' + ${table.id}}" method="post" class="inline">
                                <select name="status" class="border rounded px-2 py-1 text-xs">
                                    <option th:each="st : ${T(com.viettridao.cafe.common.TableStatus).values()}"
                                        th:value="${st}" th:text="${st}" th:selected="${st} == ${table.status}">
                                    </option>
                                </select>
                                <button type="submit" class="ml-1 bg-gray-200 px-2 py-1 rounded text-xs">ƒê·ªïi</button>
                            </form>
                        </td>
                    </tr>
                    <tr th:if="${#lists.isEmpty(tables)}">
                        <td colspan="4" class="text-center text-gray-500 italic py-6">Kh√¥ng c√≥ b√†n n√†o.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>

</html>