<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
          <script th:src="@{/js/alert-utils.js}"></script>
      
<head>
    <meta charset="UTF-8">
    <title>Trang c√° nh√¢n</title>
</head>
<body>
<div layout:fragment="content">
 <!-- ‚úÖ Th√¥ng b√°o h·ªá th·ªëng -->
    <div th:if="${error}" class="text-red-600 font-semibold mb-3" th:text="${error}"></div>
    <div th:if="${success}" class="text-green-600 font-semibold mb-3" th:text="${success}"></div>


    <!-- Form C·∫¨P NH·∫¨T TH√îNG TIN -->
    <form th:action="@{/profile}" th:object="${request}" method="post"
          class="max-w-5xl mx-auto bg-white rounded-xl shadow-lg mt-10 p-6">

        <!-- ‚úÖ Hidden ID ƒë·ªÉ update ƒë√∫ng -->
        <input type="hidden" th:field="*{id}" />

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Avatar -->
            <div class="flex flex-col items-center space-y-4">
                <img th:src="@{${request.imageUrl}}"
                     onerror="this.onerror=null;this.src='https://via.placeholder.com/100x120';"
                     alt="avatar"
                     class="w-36 h-36 rounded-full border-4 border-yellow-600 shadow-md"/>

                <label class="text-sm font-medium text-gray-700">
                    Link ·∫£nh ƒë·∫°i di·ªán:
                    <input type="text" th:field="*{imageUrl}"
                           class="mt-1 block w-full text-sm px-3 py-1 border rounded" />
                    <p th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}" class="text-red-500 text-sm"></p>
                </label>

                <form th:action="@{/logout}" method="post" class="text-center mt-6">
                    <button type="submit"
                            class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded shadow">
                        üö™ ƒêƒÉng xu·∫•t
                    </button>
                </form>
            </div>

            <!-- Th√¥ng tin c√° nh√¢n -->
            <div class="md:col-span-2 space-y-4">
                <h2 class="text-2xl font-bold text-yellow-800 border-b pb-2">Th√¥ng tin c√° nh√¢n</h2>

                <div class="grid grid-cols-2 gap-4 text-sm">

                    <div>
                        <label class="font-semibold">H·ªç v√† t√™n:</label>
                        <input type="text" th:field="*{fullName}" class="w-full px-3 py-2 border rounded" />
                        <p th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}" class="text-red-500 text-sm"></p>
                    </div>

                    <div>
                        <label class="font-semibold">Ch·ª©c v·ª•:</label>
                        <input type="text" th:field="*{position}" class="w-full px-3 py-2 border rounded" />
                        <p th:if="${#fields.hasErrors('position')}" th:errors="*{position}" class="text-red-500 text-sm"></p>
                    </div>

                    <div class="col-span-2">
                        <label class="font-semibold">ƒê·ªãa ch·ªâ:</label>
                        <input type="text" th:field="*{address}" class="w-full px-3 py-2 border rounded" />
                        <p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="text-red-500 text-sm"></p>
                    </div>

                    <div>
                        <label class="font-semibold">S·ªë ƒëi·ªán tho·∫°i:</label>
                        <input type="text" th:field="*{phoneNumber}" class="w-full px-3 py-2 border rounded" />
                        <p th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}" class="text-red-500 text-sm"></p>
                    </div>

                    <div>
                        <label class="font-semibold">L∆∞∆°ng:</label>
                        <div class="relative">
                            <input type="number" th:field="*{salary}" min="1000000" step="1000"
                                   class="w-full px-3 py-2 border rounded pr-16" />
                            <span class="absolute right-3 top-2.5 text-gray-500 text-sm">VNƒê</span>
                        </div>
                        <p th:if="${#fields.hasErrors('salary')}" th:errors="*{salary}" class="text-red-500 text-sm"></p>
                    </div>

                    <div>
                        <label class="font-semibold">T√†i kho·∫£n:</label>
                        <input type="text" th:value="${employee.username}"
                               class="w-full px-3 py-2 border rounded bg-gray-100" readonly />
                    </div>

                    <div>
                        <label class="font-semibold">M·∫≠t kh·∫©u:</label>
                        <input type="password" th:value="${employee.password}"
                               class="w-full px-3 py-2 border rounded bg-gray-100" readonly />
                    </div>
                </div>

                <div class="pt-4">
                    <button type="submit"
                            class="bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded font-semibold shadow">
                        üíæ L∆∞u thay ƒë·ªïi
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
<div th:replace="~{/alert :: alerts}"></div>

</body>
</html>
