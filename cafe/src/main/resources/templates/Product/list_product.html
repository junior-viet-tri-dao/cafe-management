<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Trang Danh S√°ch Nh√¢n Vi√™n </title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        .table-container {
            /* border: 1px solid #ddd; */ /* B·ªè border ngo√†i container v√¨ c√°c cell ƒë√£ c√≥ border */
            margin-top: 20px;
            display: flex;
            flex-direction: column;
        }

        .table-header {
            display: flex;
            background-color: #f2f2f2;
            font-weight: bold;
            /* border-bottom: 1px solid #ddd; */ /* B·ªè border d∆∞·ªõi header v√¨ c√°c cell ƒë√£ c√≥ border */
        }

        .table-row {
            display: flex !important;
            /* border-bottom: 1px solid #eee; */ /* B·ªè border d∆∞·ªõi h√†ng v√¨ c√°c cell ƒë√£ c√≥ border */
        }

        .table-row:last-child {
            border-bottom: none;
        }

        /* THAY ƒê·ªîI QUAN TR·ªåNG: TH√äM BORDER CHO C√ÅC CELL */
        .table-cell, .table-header-cell {
            padding: 8px;
            flex: 1;
            box-sizing: border-box;
            border: 1px solid #ddd; /* Th√™m border cho t·∫•t c·∫£ c√°c c·∫°nh c·ªßa cell */
        }

        /* ƒêi·ªÅu ch·ªânh border ƒë·ªÉ ch√∫ng kh√¥ng b·ªã tr√πng l·∫∑p kh√¥ng c·∫ßn thi·∫øt */
        .table-header-cell:not(:last-child) {
            border-right: none; /* B·ªè vi·ªÅn ph·∫£i ƒë·ªÉ c√°c cell header d√≠nh li·ªÅn */
        }
        .table-cell:not(:last-child) {
            border-right: none; /* B·ªè vi·ªÅn ph·∫£i ƒë·ªÉ c√°c cell d·ªØ li·ªáu d√≠nh li·ªÅn */
        }

        .table-header-cell {
            border-bottom: none; /* B·ªè vi·ªÅn d∆∞·ªõi cho header cell ƒë·ªÉ n√≥ d√≠nh v·ªõi h√†ng ƒë·∫ßu ti√™n */
        }

        /* Vi·ªÅn tr√™n c√πng cho h√†ng d·ªØ li·ªáu ƒë·∫ßu ti√™n */
        .table-row:first-of-type .table-cell {
            border-top: 1px solid #ddd;
        }


        /* T√πy ch·ªânh chi·ªÅu r·ªông cho t·ª´ng c·ªôt */
        .table-header-cell.name, .table-cell.name {
            flex: 2;
        }
        .table-header-cell.position, .table-cell.position {
            flex: 1.5;
        }
        .table-header-cell.salary, .table-cell.salary {
            flex: 1;
            text-align: right;
        }

        .table-header-cell {
            cursor: pointer;
            user-select: none;
            position: relative;
        }
        .table-header-cell:hover {
            background-color: #e0e0e0;
        }
        .sort-arrow {
            display: inline-block;
            margin-left: 5px;
            min-width: 10px;
        }
    </style>

</head>
<body>

<div layout:fragment="content">

    <form method="get" th:action="@{/product}" class="flex items-center gap-2 mb-4">
        <input type="text" name="keyword" placeholder="T√¨m theo t√™n h√†ng ho√°"
               th:value="${param.keyword}" class="px-3 py-2 border border-gray-300 rounded-md text-sm w-72">
        <button type="submit"
                class="bg-green-600 hover:bg-green-700 text-white text-sm font-semibold px-4 py-2 rounded-md shadow transition">
            üîç T√¨m
        </button>
    </form>

    <!-- Hi·ªÉn th·ªã th√¥ng b√°o t√¨m ki·∫øm n·∫øu c√≥ -->
    <div class="mb-4 text-sm text-gray-600 italic" th:if="${param.keyword}">
        ƒêang t√¨m v·ªõi t·ª´ kh√≥a: "<span th:text="${param.keyword}"></span>"
    </div>


    <a th:href="@{/product/insert}">Th√™m H√†ng Ho√°</a>
    <div class="table-container" id="inventoryTable">
        <div class="table-header">
            <div class="table-header-cell name" data-sort-by="name">T√™n <span class="sort-arrow"></span></div>
<!--            <div class="table-header-cell import-date" data-sort-by="import-date">Ng√†y nh·∫≠p <span class="sort-arrow"></span></div>-->
<!--            <div class="table-header-cell export-date" data-sort-by="export-date">Ng√†y xu·∫•t <span class="sort-arrow"></span></div>-->
            <div class="table-header-cell quantity" data-sort-by="quantity">S·ªë l∆∞·ª£ng <span class="sort-arrow"></span></div>
            <div class="table-header-cell unit" data-sort-by="unit">ƒê∆°n v·ªã <span class="sort-arrow"></span></div>
            <div class="table-header-cell unit-price" data-sort-by="unit-price">ƒê∆°n gi√° <span class="sort-arrow"></span></div>
            <div class="table-header-cell total-amount" data-sort-by="total-amount">T·ªïng ti·ªÅn <span class="sort-arrow"></span></div>
            <div class="table-header-cell action">Action</div>
        </div>
        <div th:each="product : ${products.productPage}" class="flex items-center border-t border-gray-200 hover:bg-gray-50">
            <div class="flex-2 px-4 py-3" th:text="${product.productName}"></div>

<!--            <div class="flex-2 px-4 py-3" th:if="${product.imports != null and !product.imports.isEmpty()}" th:text="${#temporals.format(product.imports[0].importDate, 'dd/MM/yyyy')}"></div>-->
<!--            <div class="flex-2 px-4 py-3" th:unless="${product.imports != null and !product.imports.isEmpty()}">-->
<!--                N/A-->
<!--            </div>-->

<!--            <div class="flex-2 px-4 py-3" th:if="${product.exports != null and !product.exports.isEmpty()}" th:text="${#temporals.format(product.exports[0].exportDate, 'dd/MM/yyyy')}"></div>-->
<!--            <div class="flex-2 px-4 py-3" th:unless="${product.exports != null and !product.exports.isEmpty()}">-->
<!--                N/A-->
<!--            </div>-->

            <div class="flex-2 px-4 py-3" th:text="${product.quantity}"></div>
            <div class="flex-2 px-4 py-3" th:text="${product.price}"></div>
            <div class="flex-2 px-4 py-3" th:text="${product.price * product.quantity}"></div>

            <div class="flex-1 px-4 py-3 space-x-2">
                <a th:href="@{/product/edit/{id}(id=${product.id})}" class="text-blue-600 hover:underline">Edit</a>
                <a th:href="@{/product/delete/{id}(id=${product.id})}" class="text-red-600 hover:underline">Delete</a>
            </div>
        </div>
    </div>


    <!-- Ph√¢n trang -->
    <div class="flex items-center justify-between mt-8">
        <!-- Hi·ªÉn th·ªã s·ªë l∆∞·ª£ng -->
        <div class="text-sm text-gray-600" th:if="${products.totalPages > 0}">
            <span th:text="'Trang ' + (${products.pageNumber + 1}) + ' / ' + ${products.totalPages}">Trang 1 / 5</span> |
            <span th:text="'T·ªïng: ' + ${products.totalElements} + ' h√†ng ho√°'">T·ªïng: 25 nh√¢n vi√™n</span>
        </div>

        <!-- Danh s√°ch n√∫t ph√¢n trang -->
        <nav>
            <ul class="inline-flex items-center space-x-1">
                <!-- N√∫t Tr∆∞·ªõc -->
                <li>
                    <a th:href="@{/product(page=${products.pageNumber - 1}, keyword=${param.keyword})}"
                       th:class="'flex items-center px-3 py-2 rounded-lg border text-sm transition ' + (${products.pageNumber == 0} ? 'text-gray-300 border-gray-300 bg-gray-100 cursor-not-allowed pointer-events-none' : 'text-blue-600 border-blue-300 hover:bg-blue-50')">
                        ‚óÄ Tr∆∞·ªõc
                    </a>
                </li>

                <!-- C√°c s·ªë trang -->
                <li th:if="${products.totalPages > 0}"
                    th:each="pageNum : ${#numbers.sequence(0, products.totalPages - 1)}">
                    <a th:href="@{/product(page=${pageNum}, keyword=${param.keyword})}"
                       th:text="${pageNum + 1}"
                       th:class="'px-3 py-2 rounded-lg border text-sm font-medium transition ' +
                             (${pageNum} == ${products.pageNumber}
                             ? 'bg-blue-600 text-white border-blue-600'
                             : 'border-gray-300 text-gray-700 hover:bg-blue-50')">
                    </a>
                </li>

                <!-- N√∫t Ti·∫øp -->
                <li>
                    <a th:href="@{/product(page=${products.pageNumber + 1}, keyword=${param.keyword})}"
                       th:class="'flex items-center px-3 py-2 rounded-lg border text-sm transition ' + (${products.pageNumber + 1 >= products.totalPages} ? 'text-gray-300 border-gray-300 bg-gray-100 cursor-not-allowed pointer-events-none' : 'text-blue-600 border-blue-300 hover:bg-blue-50')">
                        Ti·∫øp ‚ñ∂
                    </a>
                </li>
            </ul>
        </nav>
    </div>



</div>











</body>
</html>
