<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>In h√≥a ƒë∆°n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-white text-black p-6">

<div class="max-w-xl mx-auto border p-6 shadow">
    <h1 class="text-2xl font-bold text-center mb-4">üßæ H√ìA ƒê∆†N THANH TO√ÅN</h1>

    <div class="mb-4">
        <p><b>B√†n s·ªë:</b> <span th:text="${tableId}">---</span></p>
        <p><b>Ng√†y:</b> <span th:text="${#dates.format(#dates.createNow(), 'dd/MM/yyyy HH:mm')}">---</span></p>
        <p><b>Nh√¢n vi√™n:</b> <span th:text="${employeeName}">---</span></p>
    </div>

    <table class="w-full text-left border-collapse border mb-4">
        <thead>
        <tr class="bg-gray-200">
            <th class="border px-2 py-1">M√≥n</th>
            <th class="border px-2 py-1">SL</th>
            <th class="border px-2 py-1">ƒê∆°n gi√°</th>
            <th class="border px-2 py-1">Th√†nh ti·ªÅn</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${items}">
            <td class="border px-2 py-1" th:text="${item.itemName}">Cafe</td>
            <td class="border px-2 py-1" th:text="${item.quantity}">1</td>
            <td class="border px-2 py-1" th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')}">0</td>
            <td class="border px-2 py-1" th:text="${#numbers.formatDecimal(item.quantity * item.price, 0, 'COMMA', 0, 'POINT')}">0</td>
        </tr>
        </tbody>
    </table>

    <p class="text-right font-bold">T·ªïng c·ªông:
        <span th:text="${#numbers.formatDecimal(totalAmount, 0, 'COMMA', 0, 'POINT')}">0</span> VND
    </p>
</div>

<!-- In & ƒë√≥ng -->
<div class="text-center mt-4 no-print">
    <button onclick="window.print()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">üñ® In</button>
    <button onclick="window.close()" class="ml-4 px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-600">‚ùå ƒê√≥ng</button>
</div>

<!-- G·ª≠i t√≠n hi·ªáu v·ªÅ trang cha sau khi in -->
<script>
    window.onafterprint = function () {
        if (window.opener) {
            window.opener.postMessage('printed', '*');
        }
    };
</script>
</body>
</html>
