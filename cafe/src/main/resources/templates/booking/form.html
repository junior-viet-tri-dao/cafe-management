<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Äáº·t BÃ n</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">
<div layout:fragment="content" class="max-w-xl mx-auto bg-white p-6 mt-10 rounded shadow-md">

    <h2 class="text-2xl font-bold text-blue-700 mb-6">ğŸ“… Äáº·t BÃ n</h2>

    <form th:action="@{/booking}" th:object="${booking}" method="post" class="space-y-5">
        <!-- tableId & employeeId hidden -->
        <input type="hidden" th:field="*{tableId}" />
        <input type="hidden" th:field="*{employeeId}" />

        <!-- TÃªn khÃ¡ch hÃ ng -->
        <div>
            <label class="block font-semibold mb-1">ğŸ‘¤ TÃªn khÃ¡ch hÃ ng:</label>
            <input type="text" th:field="*{customerName}" required minlength="2" maxlength="30"
                   placeholder="Nguyá»…n VÄƒn A"
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
            <div th:if="${#fields.hasErrors('customerName')}" th:errors="*{customerName}"
                 class="text-red-600 text-sm mt-1"></div>
        </div>

        <!-- Sá»‘ Ä‘iá»‡n thoáº¡i -->
        <div>
            <label class="block font-semibold mb-1">ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i:</label>
            <input type="text" th:field="*{customerPhone}" required pattern="^0\d{9,10}$"
                   placeholder="0912345678"
                   title="Sá»‘ Ä‘iá»‡n thoáº¡i báº¯t Ä‘áº§u báº±ng 0 vÃ  cÃ³ 10 hoáº·c 11 chá»¯ sá»‘"
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
            <div th:if="${#fields.hasErrors('customerPhone')}" th:errors="*{customerPhone}"
                 class="text-red-600 text-sm mt-1"></div>
        </div>

        <!-- NgÃ y Ä‘áº·t -->
        <div>
            <label class="block font-semibold mb-1">ğŸ“† NgÃ y Ä‘áº·t:</label>
            <input type="date" th:field="*{reservationDate}" required
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
            <div th:if="${#fields.hasErrors('reservationDate')}" th:errors="*{reservationDate}"
                 class="text-red-600 text-sm mt-1"></div>
        </div>

        <!-- Giá» Ä‘áº·t -->
        <div>
            <label class="block font-semibold mb-1">â° Giá» Ä‘áº·t:</label>
            <input type="time" th:field="*{reservationTime}" required
                   class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300" />
            <div th:if="${#fields.hasErrors('reservationTime')}" th:errors="*{reservationTime}"
                 class="text-red-600 text-sm mt-1"></div>
        </div>

        <!-- NÃºt hÃ nh Ä‘á»™ng -->
        <div class="flex justify-end gap-4 pt-4">
            <a href="/sale"
               class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 transition">âŒ Há»§y</a>
            <input type="submit" value="âœ… Äáº·t bÃ n"
                   class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition" />
        </div>
    </form>
</div>

<!-- JS Ä‘áº·t min ngÃ y hÃ´m nay -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const today = new Date().toISOString().split("T")[0];
        document.querySelector("input[type='date']").setAttribute("min", today);
    });
</script>
</body>
</html>
