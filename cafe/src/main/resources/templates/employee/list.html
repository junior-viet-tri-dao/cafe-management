<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
      
<head>
      <script th:src="@{/js/alert-utils.js}"></script>

    <meta charset="UTF-8">
    <title>Danh sÃ¡ch nhÃ¢n viÃªn</title>
</head>
<body>
<div layout:fragment="content" class="container mx-auto mt-8">

    <h2 class="text-2xl font-bold text-yellow-800 mb-4">ğŸ“‹ Danh sÃ¡ch nhÃ¢n viÃªn</h2>

    <!-- âœ… ThÃ´ng bÃ¡o há»‡ thá»‘ng -->
    <div th:if="${error}" class="text-red-600 font-semibold mb-3" th:text="${error}"></div>
    <div th:if="${success}" class="text-green-600 font-semibold mb-3" th:text="${success}"></div>

    <!-- ğŸ” Form tÃ¬m kiáº¿m -->
    <form th:action="@{/employee/search}" method="get" class="mb-4">
        <input type="text" name="keyword" th:value="${keyword}" placeholder="TÃ¬m theo tÃªn, chá»©c vá»¥, hoáº·c lÆ°Æ¡ng"
               class="border px-3 py-2 rounded w-1/3"/>
        <button type="submit" class="bg-yellow-500 text-white px-4 py-2 rounded">ğŸ” TÃ¬m</button>
    </form>

    <!-- â• NÃºt thÃªm nhÃ¢n viÃªn -->
    <div class="mb-4 text-right">
        <a th:href="@{/employee/add}" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded shadow">
            â• ThÃªm nhÃ¢n viÃªn
        </a>
    </div>

    <!-- ğŸ“„ Báº£ng danh sÃ¡ch nhÃ¢n viÃªn -->
    <table class="w-full border border-collapse text-sm">
        <thead>
        <tr class="bg-yellow-100 text-left">
            <th class="border px-3 py-2">Há» vÃ  tÃªn</th>
            <th class="border px-3 py-2">Chá»©c vá»¥</th>
            <th class="border px-3 py-2">LÆ°Æ¡ng</th>
            <th class="border px-3 py-2">HÃ nh Ä‘á»™ng</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="emp : ${employees}" class="hover:bg-gray-50">
            <td class="border px-3 py-2" th:text="${emp.fullName}"></td>
            <td class="border px-3 py-2" th:text="${emp.position}"></td>
            <td class="border px-3 py-2"
                th:text="${#numbers.formatDecimal(emp.salary, 0, 'POINT', 0, 'COMMA')} + ' VNÄ'"></td>
            <td class="border px-3 py-2 space-x-2">
                <a th:href="@{'/employee/edit/' + ${emp.id}}" class="text-blue-600 hover:underline">âœ Sá»­a</a>
                <form th:action="@{'/employee/delete/' + ${emp.id}}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a?')"
                            class="text-red-600 hover:underline">ğŸ—‘ XÃ³a</button>
                </form>
            </td>
        </tr>
        <tr th:if="${employees.isEmpty()}">
            <td colspan="4" class="text-center text-gray-500 py-4">KhÃ´ng cÃ³ nhÃ¢n viÃªn nÃ o phÃ¹ há»£p.</td>
        </tr>
        </tbody>
    </table>
</div>
<div th:replace="~{/alert :: alerts}"></div>
</body>
</html>
