<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<script th:src="@{/js/alert-utils.js}"></script>

<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch thi·∫øt b·ªã</title>
</head>
<body>
<div layout:fragment="content">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold">Danh s√°ch thi·∫øt b·ªã</h2>
        <a th:href="@{/equipment/add}"
           class="bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600">
            ‚ûï Th√™m thi·∫øt b·ªã
        </a>
    </div>

    <table class="min-w-full border border-gray-300 text-sm">
        <thead class="bg-gray-100 text-left">
        <tr>
            <th class="px-4 py-2 border">T√™n thi·∫øt b·ªã</th>
            <th class="px-4 py-2 border">Ng√†y mua</th>
            <th class="px-4 py-2 border">S·ªë l∆∞·ª£ng</th>
            <th class="px-4 py-2 border">ƒê∆°n gi√°</th>
            <th class="px-4 py-2 border">Gi√°</th>
            <th class="px-4 py-2 border text-center">H√†nh ƒë·ªông</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item : ${equipments}" class="hover:bg-gray-50">
            <td class="px-4 py-2 border" th:text="${item.equipmentName}"></td>
            <td class="px-4 py-2 border" th:text="${#temporals.format(item.purchaseDate, 'dd/MM/yyyy')}"></td>
            <td class="px-4 py-2 border" th:text="${item.quantity}"></td>
            <td class="px-4 py-2 border"
                th:text="${#numbers.formatDecimal(item.purchasePrice, 0, 'POINT', 0, 'COMMA')} + ' VNƒê'"></td>
            <td class="px-4 py-2 border"
                th:text="${#numbers.formatDecimal(item.purchasePrice * item.quantity, 0, 'POINT', 0, 'COMMA')} + ' VNƒê'">
            </td>
            <td class="px-4 py-2 border text-center">
                <a th:href="@{'/equipment/edit/' + ${item.id}}"
                   class="text-blue-600 hover:underline mr-2">‚úèÔ∏è S·ª≠a</a>

                <form th:action="@{'/equipment/delete/' + ${item.id}}" method="post" class="inline">
                    <button type="submit"
                            class="text-red-600 hover:underline"
                            onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a thi·∫øt b·ªã n√†y?');">üóëÔ∏è X√≥a</button>
                </form>
            </td>
        </tr>
        <tr th:if="${equipments.isEmpty()}">
            <td colspan="6" class="text-center text-gray-500 py-4">Kh√¥ng c√≥ thi·∫øt b·ªã n√†o.</td>
        </tr>
        </tbody>
    </table>
</div>
<div th:replace="~{/alert :: alerts}"></div>

</body>
</html>
