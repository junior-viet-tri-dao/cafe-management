<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <meta charset="UTF-8">
  <title>Xem thu chi</title>
</head>
<body>
<div layout:fragment="content">
  <div class="bg-white shadow-xl rounded-xl p-6 mt-6 max-w-5xl mx-auto">
    <h2 class="text-2xl font-bold text-[#4e342e] mb-6">üìä Xem thu chi</h2>

    <!-- B·ªô l·ªçc ng√†y -->
    <form th:action="@{/budget/filter}" method="get" class="flex items-center gap-4 mb-6 flex-wrap">
      <div class="flex items-center gap-2">
        <label for="fromDate" class="font-medium">T·ª´ ng√†y:</label>
        <input type="date" id="fromDate" name="fromDate"
               th:value="${fromDate}"
               class="border border-gray-300 px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
      </div>

      <div class="flex items-center gap-2">
        <label for="toDate" class="font-medium">ƒë·∫øn ng√†y:</label>
        <input type="date" id="toDate" name="toDate"
               th:value="${toDate}"
               class="border border-gray-300 px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400">
      </div>

      <button type="submit"
              class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-semibold transition">
        üîç Xem
      </button>
    </form>

    <!-- B·∫£ng thu chi -->
    <div class="overflow-x-auto">
      <table class="min-w-full table-auto border border-gray-300 rounded-lg">
        <thead class="bg-[#e3f2fd] text-gray-800 text-sm font-bold uppercase">
        <tr>
          <th class="px-4 py-2 text-left">Ng√†y</th>
          <th class="px-4 py-2 text-right">Thu</th>
          <th class="px-4 py-2 text-right">Chi</th>
        </tr>
        </thead>
        <tbody class="text-sm text-gray-700 divide-y divide-gray-100" th:if="${listTransactions != null}">
        <tr th:each="item : ${listTransactions}" class="hover:bg-yellow-50">
          <td class="px-4 py-2" th:text="${#temporals.format(item.ngay, 'dd/MM/yyyy')}">23/12/2014</td>
          <td class="px-4 py-2 text-right text-green-700 font-semibold"
              th:text="${#numbers.formatDecimal(item.thu, 0, 'POINT', 0, 'COMMA')}">500.000</td>
          <td class="px-4 py-2 text-right text-red-700 font-semibold"
              th:text="${#numbers.formatDecimal(item.chi, 0, 'POINT', 0, 'COMMA')}">1.000.000</td>
        </tr>
        </tbody>
        <tbody th:if="${listTransactions == null or listTransactions.size() == 0}">
        <tr>
          <td colspan="3" class="text-center text-gray-400 py-6">Kh√¥ng c√≥ d·ªØ li·ªáu thu chi.</td>
        </tr>
        </tbody>
        <tfoot>
        <tr class="bg-gray-100 font-semibold">
          <td class="px-4 py-2 text-right">T·ªïng</td>
          <td class="px-4 py-2 text-right text-green-800" th:text="${#numbers.formatDecimal(totalThu, 0, 'POINT', 0, 'COMMA')}">3.000.000</td>
          <td class="px-4 py-2 text-right text-red-800" th:text="${#numbers.formatDecimal(totalChi, 0, 'POINT', 0, 'COMMA')}">1.600.000</td>
        </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
</body>
</html>
